SELECT
  F.CITY,
  SUM(numberOfVaccinesRecieved) TOTAL_NUMBER_VACCINES_PER_CITY
FROM
  Province P
  INNER JOIN Facility F ON F.provinceID = P.ID
  INNER JOIN Inventory I ON I.facilityID = F.ID
  INNER JOIN Shipment S ON S.ID = I.shipmentID
WHERE
  provinceID = 1 AND
  dateOfReception BETWEEN '2021-01-01' AND '2021-07-22'
GROUP BY CITY
ORDER BY
	CITY ASC, TOTAL_NUMBER_VACCINES_PER_CITY DESC
